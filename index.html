<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="tanggal-acara" content="5 Mei 2025">

  <title>Undangan Pernikahan</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Great+Vibes&display=swap" rel="stylesheet" />
  <style>
    .invite-container {
      color: #fff;
      font-family: "Cinzel", serif;
      text-align: center;
      margin-top: 50px;
      margin-bottom: 30px;
    }

    .invite-container .bride-groom {
      font-family: "Great Vibes", cursive;
      font-size: 2.2em;
      margin: 10px 0;
      color: #ffe9c7;
    }

    #undangan {
      opacity: 0;
      transition: opacity 1s ease;
      display: none;
    }

    #undangan.tampil {
      display: block;
      opacity: 1;
    }

    .invite-container .to {
      font-size: 1em;
      margin-top: 20px;
    }

    .invite-container .guest-name {
      font-weight: bold;
      font-size: 1.4em;
      margin-top: 8px;
      color: #fff8f1;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Poppins", sans-serif;
      background: url("https://images.unsplash.com/photo-1562249004-1f7289c19c49?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D") no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-align: center;
    }

    .overlay {
      background-color: rgba(0, 0, 0, 0.6);
      min-height: 100vh;
      padding: 15px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .ornamen-cover {
      filter: brightness(0) invert(1);
      /* Ubah gambar menjadi putih */
      position: absolute;
      top: 15px;
      left: 15px;
      width: 70px;
      /* langsung atur lebar */
      height: auto;
    }

    .card {
      background: url("https://www.transparenttextures.com/patterns/paper-fibers.png"),
        #fffaed;
      /* Warna dasar kertas kuning muda + tekstur */
      color: #333;
      width: 90%;
      max-width: 480px;
      margin: 0 15px;
      /* atas-bawah 0, kiri-kanan 15px */
      padding: 25px 25px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      animation: fadeIn 1s ease forwards;
      background-size: cover;

      .bingkai-foto {
        width: 250px;
        /* Lebar oval */
        height: 300px;
        /* Tinggi oval */
        background-color: #fff;
        border-radius: 50% / 50%;
        /* Membuat bentuk oval vertikal */
        overflow: hidden;
        /* Penting untuk membatasi gambar di dalam oval */
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        margin: 20px auto;
      }

      .bingkai-foto img {
        height: 100%;
        width: auto;
        object-fit: cover;
        /* atau coba contain */
      }

      .ornamen-kanan-atas,
      .ornamen-kiri-bawah,
      .ornamen-kiri-atas,
      .ornamen-kanan-bawah {
        position: absolute;
        width: 75px;
        height: auto;
        opacity: 0.9;
        pointer-events: none;
      }

      .ornamen-kanan-atas {
        top: -15px;
        right: -15px;
        scale: 0.5;
      }

      .ornamen-kiri-atas {
        top: -15px;
        left: -15px;
        transform: scale(0.5) scaleX(-1);
      }

      .ornamen-kiri-bawah {
        bottom: -15px;
        left: -15px;
        transform: scale(0.5) rotate(180deg);
      }

      .ornamen-kanan-bawah {
        bottom: -15px;
        right: -15px;
        transform: scale(0.5) scaleY(-1);
      }

      .ornamen-kiri {
        transform: scaleX(-1);
      }

      .nama-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
      }

      .nama-container img {
        height: 30px;
        width: auto;
      }

      .nama-container h2 {
        font-size: 1.8em;
        font-family: "Great Vibes", cursive;
        margin: 0;
        color: #333;
      }

      .jadwal-item {
        background-color: rgba(255, 255, 255, 0.8);
        color: #333;
        padding: 15px;
        border-radius: 10px;
        margin: 5px 0;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .jadwal-item h4 {
        margin-top: 5px;
        margin-bottom: 5px;
        font-size: large;
        font-family: "Poppins", sans-serif;
        color: #2e7d32;
      }

      form#bukuTamuForm {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 20px;
        max-width: 500px;
        margin-inline: auto;
      }

      #bukuTamuForm input,
      #bukuTamuForm textarea {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 1em;
      }

      #bukuTamuForm button {
        padding: 10px;
        background-color: #2e7d32;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }

      #daftarUcapan {
        margin-top: 20px;
        max-width: 600px;
        margin-inline: auto;
      }

      #daftarUcapan .ucapan {
        background: rgba(255, 255, 255, 0.8);
        padding: 10px;
        margin: 8px 0;
        border-radius: 8px;
        color: #333;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .maps-btn {
        display: inline-block;
        margin-top: 8px;
        background-color: #2e7d32;
        color: white;
        padding: 8px 14px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 0.95em;
      }

      h1,
      h2,
      h3 {
        font-family: "Great Vibes", cursive;
        margin-top: 0;
      }

      p {
        font-size: 14px;
      }
    }

    h1 {
      font-size: 2.2em;
    }

    h2 {
      font-size: 1.7em;
    }

    h3 {
      font-size: 1.4em;
    }

    .footer {
      font-size: 0.9em;
      color: #777;
      margin-top: 30px;
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 15px 0;
    }

    .gallery img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
      cursor: pointer;
    }

    #lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #lightbox img {
      max-width: 90%;
      max-height: 80vh;
      border-radius: 10px;
    }

    #lightbox:target {
      display: flex;
    }

    .gallery img:hover {
      transform: scale(1.05);
    }

    form#bukuTamuForm {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    input,
    textarea,
    button {
      font-family: "Poppins", sans-serif;
      font-size: 1em;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      box-sizing: border-box;
    }

    button {
      background-color: #2e7d32;
      color: white;
      cursor: pointer;
    }

    .ucapan {
      background: #f2f2f2;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      color: #333;
    }

    .open-btn {
      font-size: 15px;
      width: 180px;
      height: 50px;
      background-color: #3c6255;
      border: none;
      border-radius: 12px;
      color: white;
      cursor: pointer;
      margin-top: 100px;
    }

    a.rsvp-btn {
      display: inline-block;
      background-color: #4caf50;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      margin-top: 20px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.8em;
      }

      h2 {
        font-size: 1.4em;
      }

      h3 {
        font-size: 1.2em;
      }
    }

    .section {
      padding: 20px;
      text-align: center;
    }

    .rekening {
      margin: 20px auto;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 12px;
      max-width: 300px;
      background: #f9f9f9;
    }

    .rekening button {
      margin-top: 10px;
      padding: 8px 16px;
      border: none;
      background: #007bff;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }

    .rekening button:hover {
      background: #0056b3;
    }

    /* Responsive adjustment */
    @media (max-width: 600px) {
      .invite-container .bride-groom {
        font-size: 1.8em;
      }

      .invite-container .guest-name {
        font-size: 1.2em;
      }
    }
  </style>
</head>

<body>
  <div class="overlay">
    <div id="intro" style="margin-bottom: 40px">
      <div class="invite-container">
        <!-- Ornamen Hiasan -->
        <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/Ornamen Cover.png" class="ornamen-cover" />
        <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/Ornamen Cover.png" class="ornamen-cover"
          style="top: 15px; right: 15px; left: auto; transform: scaleX(-1)" />

        <div>The Wedding of</div>
        <div class="bride-groom">Pria & Wanita</div>
        <div class="to">Kepada Yth,</div>
        <div id="nama-tamu" class="guest-name">Tamu Undangan</div>
        <script>
          // Ambil parameter nama tamu dari URL
          const urlParams = new URLSearchParams(window.location.search);
          const namaTamu = urlParams.get("to") || "Tamu Undangan";
          document.getElementById("nama-tamu").textContent =
            decodeURIComponent(namaTamu.replace(/\+/g, " "));
        </script>
      </div>

      <!-- Tombol Buka -->
      <button class="open-btn" onclick="bukaUndangan()">Buka Undangan</button>
    </div>

    <!-- Konten Undangan -->
    <div class="card" id="undangan">
      <!-- Ornamen Hiasan -->
      <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/ornamen_pojok.png"
        alt="Ornamen Kanan Atas" class="ornamen-kanan-atas" />
      <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/ornamen_pojok.png"
        alt="Ornamen Kiri Bawah" class="ornamen-kiri-bawah" />
      <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/ornamen_pojok.png"
        alt="Ornamen Kiri Atas" class="ornamen-kiri-atas" />
      <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/ornamen_pojok.png"
        alt="Ornamen Kanan Bawah" class="ornamen-kanan-bawah" />
      <h1 style="margin-top: 20px">Undangan Pernikahan</h1>

      <div class="bingkai-foto">
        <img
          src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/468799900_1514914073244777_5212796667653713633_n.jpg"
          alt="foto pasangan" style="width: auto; height: 100%;" />
      </div>

      <p id="tanggalAcara" style="font-size: small; margin-top: 10px; margin-bottom: 10px;"></p>

      <script>
        // Ambil isi dari meta tag
        const tanggal = document.querySelector('meta[name="tanggal-acara"]').getAttribute('content');

        // Tampilkan ke elemen paragraf
        document.getElementById('tanggalAcara').innerHTML = "<strong>" + tanggal + "</strong>";
      </script>

      <p style="font-size: 12px;">
        "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri,
        agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang.
        Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir."
      </p>

      <p style="font-size: small; font-style: italic; margin-bottom: 20px;">
        <strong>(Q.S. Ar-Rum: 21)</strong>
      </p>

      <img src="ornament line.png" style="width: 30%;" />

      <p style="font-size: small">
        Dengan memohon rahmat dan ridho Allah SWT, kami mengundang Anda untuk
        hadir dalam pernikahan kami:
      </p>

      <div class="nama-container">
        <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/garis_nama.png"
          alt="ornamen kiri" class="ornamen-kiri" />
        <h2>Pria & Wanita</h2>
        <img src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/garis_nama.png"
          alt="ornamen kanan" />
      </div>
      <h2"><strong>Jadwal Acara</strong></h2">
      <div class="jadwal-item">
        <h4>Akad Nikah</h4>
        <p>Sabtu, 17 Mei 2025 - Pukul 10.00 WIB</p>
        <p>Aula PT. Danusari Mitra Sejahtera</p>
        <a href="https://www.google.com/maps?q=Aula+PT.+Danusari+Mitra+Sejahtera" target="_blank" class="maps-btn">📍
          Lihat Lokasi</a>
      </div>

      <div class="jadwal-item">
        <h4>Resepsi</h4>
        <p>Sabtu, 17 Mei 2025 - Pukul 12.00 WIB</p>
        <p>Aula PT. Danusari Mitra Sejahtera</p>
        <a href="https://www.google.com/maps?q=Aula+PT.+Danusari+Mitra+Sejahtera" target="_blank" class="maps-btn">📍
          Lihat Lokasi</a>
      </div>

      <h3>Hitung Mundur</h3>
      <p id="countdown" style="font-weight: bold; font-size: 1.2em"></p>

      <h3>Galeri</h3>
      <div class="gallery">
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/468799900_1514914073244777_5212796667653713633_n.jpg"
            alt="foto1" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 2.jpeg"
            alt="foto2" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 3.jpeg"
            alt="foto3" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 4.jpeg"
            alt="foto4" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 5.jpeg"
            alt="foto5" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 8.jpeg"
            alt="foto8" /></a>
        <a href="#lightbox"><img
            src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/foto 9.jpeg"
            alt="foto9" /></a>
        <!-- Tambah foto lain kalau mau -->
      </div>

      <div id="lightbox">
        <img id="lightbox-img" src="" alt="preview" />
      </div>

      <h3>Ucapan & Doa</h3>
      <form id="bukuTamuForm">
        <input type="text" id="namaBukuTamu" placeholder="Nama Anda" required />
        <textarea id="pesanBukuTamu" placeholder="Ucapan atau doa..." required></textarea>
        <button type="submit">Kirim</button>
      </form>

      <div id="daftarUcapan"></div>

      <section id="gift" class="section">
        <h3>Amplop Digital</h3>
        <p>
          Jika Bapak/Ibu/Saudara/i berkenan memberikan tanda kasih, dapat
          melalui rekening berikut:
        </p>

        <div class="rekening">
          <p><strong>Bank BCA</strong></p>
          <p>1234567890 a.n. Nama Pengantin</p>
          <button onclick="copyToClipboard('1234567890')">
            Salin No. Rekening
          </button>
        </div>

        <div class="rekening">
          <p><strong>DANA</strong></p>
          <p>081234567890 a.n. Nama Pengantin</p>
          <button onclick="copyToClipboard('081234567890')">
            Salin No. DANA
          </button>
        </div>
      </section>

      <script>
        // Lightbox JS
        document.querySelectorAll(".gallery img").forEach((img) => {
          img.addEventListener("click", () => {
            document.getElementById("lightbox-img").src = img.src;
            document.getElementById("lightbox").style.display = "flex";
          });
        });
        document.getElementById("lightbox").addEventListener("click", () => {
          document.getElementById("lightbox").style.display = "none";
        });
      </script>

      <script>
        function copyToClipboard(text) {
          navigator.clipboard.writeText(text).then(() => {
            alert("Nomor Rekening berhasil disalin!");
          });
        }
      </script>

      <!-- Firebase SDK -->
      <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
        import {
          getDatabase,
          ref,
          push,
          onValue,
        } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

        const firebaseConfig = {
          apiKey: "AIzaSyDxTDWAmCVRPdKEKpagtq6VTkmfN6jWpRM",
          authDomain: "undangan-digital-95b19.firebaseapp.com",
          databaseURL:
            "https://undangan-digital-95b19-default-rtdb.firebaseio.com",
          projectId: "undangan-digital-95b19",
          storageBucket: "undangan-digital-95b19.firebasestorage.app",
          messagingSenderId: "70479005856",
          appId: "1:70479005856:web:0def5f16b2c3ff0bab61c5",
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Fungsi untuk simpan ucapan
        const form = document.getElementById("bukuTamuForm");
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          const nama = document.getElementById("namaBukuTamu").value;
          const pesan = document.getElementById("pesanBukuTamu").value;

          push(ref(db, "ucapan"), {
            nama: nama,
            pesan: pesan,
            waktu: Date.now(),
          });

          form.reset();
        });

        // Menampilkan ucapan
        const daftarUcapan = document.getElementById("daftarUcapan");
        onValue(ref(db, "ucapan"), (snapshot) => {
          daftarUcapan.innerHTML = "";
          snapshot.forEach((childSnapshot) => {
            const data = childSnapshot.val();
            const div = document.createElement("div");
            div.innerHTML = `<p><strong>${data.nama}:</strong> ${data.pesan}</p>`;
            daftarUcapan.appendChild(div);
          });
        });
      </script>

      <a class="rsvp-btn"
        href="https://wa.me/6281289934763?text=Halo%2C%20saya%20akan%20hadir%20di%20pernikahan%20Pria%20%26%20Wanita"
        target="_blank">
        Konfirmasi ke WhatsApp
      </a>

      <p class="footer">Terima kasih atas doa dan kehadirannya.</p>
    </div>
  </div>

  <!-- Musik -->
  <audio id="bg-music" loop hidden>
    <source src="https://raw.githubusercontent.com/ahyakusara/Undangan-Pernikahan-Zet-Oca/main/SLIPKNOT%20SOSIAL.mp3"
      type="audio/mpeg" />
  </audio>

  <!-- Script -->
  <script>
    function bukaUndangan() {
      document.querySelector(".open-btn").style.display = "none";
      document.getElementById("intro").style.display = "none"; // <- ini penting
      const undangan = document.getElementById("undangan");
      undangan.style.display = "block";
      setTimeout(() => {
        undangan.classList.add("tampil");
      }, 10);
      document.getElementById("bg-music").play();
      mulaiCountdown();
      undangan.scrollIntoView({ behavior: "smooth" });
      ambilUcapan(); // ini ditambahkan
    }

    function mulaiCountdown() {
      const countDownDate = new Date("May 17, 2025 10:00:00").getTime();
      const countdownFunction = setInterval(function () {
        const now = new Date().getTime();
        const distance = countDownDate - now;

        if (distance < 0) {
          clearInterval(countdownFunction);
          document.getElementById("countdown").innerHTML =
            "Acara Sedang Berlangsung!";
          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor(
          (distance % (1000 * 60 * 60)) / (1000 * 60)
        );
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById(
          "countdown"
        ).innerHTML = `${days} hari ${hours} jam ${minutes} menit ${seconds} detik`;
      }, 1000);
    }
  </script>
</body>

</html>
